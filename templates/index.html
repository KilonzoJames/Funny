{% extends "layout.html" %} {% block body %}
<div class="flex justify-center items-center bg-orange-500 h-screen w-screen">
    <div class="bg-white p-8 rounded-lg shadow-lg w-96">
        <!-- Control the width for centering -->
        <form action="/" method="post" onsubmit="return validateForm()">
            <div class="flex justify-between items-center mb-4">
                <!-- Ensure items align horizontally -->
                <div>
                    <label class="font-bold">justsignup</label>
                </div>
                <div>
                    <button
                        id="time-btn"
                        class="bg-red-700 text-white px-4 py-2 rounded-lg"
                        disabled>
                        02:00
                    </button>
                </div>
            </div>
            <div class="flex flex-col mb-4">
                <div class="mb-2">
                    <input
                        autofocus
                        autocomplete="off"
                        type="text"
                        name="name"
                        placeholder="Name"
                        class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none" />
                </div>
                <div class="mb-2">
                    <input
                        id="password"
                        autocomplete="off"
                        type="password"
                        name="password"
                        placeholder="Password"
                        class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none" />
                    <!-- Toggle visibility button -->
                    <span
                        id="toggle-password"
                        class="absolute right-2 top-2 cursor-pointer text-blue-600"
                        onclick="togglePasswordVisibility()">
                        Show
                    </span>
                    {% if error %}
                    <p class="text-red-600">{{ error }}</p>
                    {% endif %} {% if errors %}
                    <ul class="text-red-600 text-sm mt-2">
                        {% for error in errors %}
                        <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
                <ul class="text-left text-sm text-gray-700 list-disc ml-6 mb-4">
                    <li>Must include a number</li>
                    <li>Must include a lowercase letter</li>
                    <li>Must include 'Q' at least twice</li>
                    <li>Must use the same number twice in a row</li>
                    <li>Must include the letter 'F'</li>
                    <li>Must include an emoji</li>
                    <li>Must include the current year (2024)</li>
                    <li>Must be less than 14 characters long</li>
                    <li>Must include the right-pointing emoji (â†’)</li>
                    <li>Must include an ancient Greek numeral</li>
                </ul>
            </div>
            <button
                type="submit"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg w-full">
                Sign Up
            </button>
        </form>
    </div>
</div>

<script>
    // Password validation function (just a placeholder for demo)
    function validateForm() {
        const password = document.getElementById("password").value;
        const passwordError = document.getElementById("password-error");
        const passwordField = document.getElementById("password");
        const toggleButton = document.getElementById("toggle-password");

        if (password !== "correct-password") {
            // Replace with your logic
            document.getElementById("password").classList.add("border-red-500");
            passwordError.classList.remove("hidden");
            return false; // Prevent form submission
        }
        return true; // Proceed with form submission
    }
    if (passwordField.type === "password") {
        passwordField.type = "text";
        toggleButton.textContent = "Hide";
    } else {
        passwordField.type = "password";
        toggleButton.textContent = "Show";
    }
    // Countdown Timer
    let timeLeft = 120;
    const timeBtn = document.getElementById("time-btn");

    function updateTime() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timeBtn.textContent = `${minutes < 10 ? "0" : ""}${minutes}:${
            seconds < 10 ? "0" : ""
        }${seconds}`;
        timeLeft--;

        if (timeLeft < 0) {
            clearInterval(timerInterval);
            timeBtn.removeAttribute("disabled");
            timeBtn.textContent = "Time Up";
        }
    }

    const timerInterval = setInterval(updateTime, 1000);
</script>
{% endblock %}
